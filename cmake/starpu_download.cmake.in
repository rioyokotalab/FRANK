cmake_minimum_required(VERSION 3.5)
include(ExternalProject)
project(starpu)
ExternalProject_Add(${PROJECT_NAME}
    # URL                 https://files.inria.fr/starpu/starpu-1.3.5/starpu-1.3.5.tar.gz
    URL                 /home/peter/dev/sandbox/starpu-1.3.5.tar.gz
    URL_MD5             d165361334674618730bc8eb6ccf4a33
    SOURCE_DIR          "@CMAKE_SOURCE_DIR@/dependencies/${PROJECT_NAME}"
    BINARY_DIR          "@CMAKE_CURRENT_BINARY_DIR@/${PROJECT_NAME}_build"
    INSTALL_DIR         @DEPENDENCY_INSTALL_PREFIX@
    UPDATE_COMMAND      ""
    CONFIGURE_COMMAND   <SOURCE_DIR>/configure
                        --disable-build-examples
                        --disable-build-tests
                        --disable-static
                        --disable-mpi
                        --disable-starpufft
                        --disable-fortran
                        --disable-build-doc
                        --prefix=<INSTALL_DIR>
    BUILD_COMMAND       make -j4
)